<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Técnicas para corregir la heterocedasticidad de varianzas |  Modelación estadística en R para variables ambientales </title>
  <meta name="description" content="10 Técnicas para corregir la heterocedasticidad de varianzas |  Modelación estadística en R para variables ambientales " />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Técnicas para corregir la heterocedasticidad de varianzas |  Modelación estadística en R para variables ambientales " />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Técnicas para corregir la heterocedasticidad de varianzas |  Modelación estadística en R para variables ambientales " />
  
  
  

<meta name="author" content="M.Sc. Esteban Ballestero Alfaro" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="supuesto-de-independencia.html"/>

<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="1" data-path="correlaciones-y-graficos-con-correlaciones.html"><a href="correlaciones-y-graficos-con-correlaciones.html"><i class="fa fa-check"></i><b>1</b> Correlaciones y graficos con correlaciones</a>
<ul>
<li class="chapter" data-level="1.1" data-path="correlaciones-y-graficos-con-correlaciones.html"><a href="correlaciones-y-graficos-con-correlaciones.html#qué-tipo-de-objeto-es-c"><i class="fa fa-check"></i><b>1.1</b> ¿Qué tipo de objeto es c?</a></li>
<li class="chapter" data-level="1.2" data-path="correlaciones-y-graficos-con-correlaciones.html"><a href="correlaciones-y-graficos-con-correlaciones.html#pasamos-a-la-sección-de-modelaje."><i class="fa fa-check"></i><b>1.2</b> Pasamos a la sección de modelaje.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="practica-utilizando-astasa-anexos.html"><a href="practica-utilizando-astasa-anexos.html"><i class="fa fa-check"></i><b>2</b> Practica utilizando astasa (Anexos)</a></li>
<li class="chapter" data-level="3" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html"><i class="fa fa-check"></i><b>3</b> Exploracion y Visualización de Datos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#exploración-de-datos"><i class="fa fa-check"></i><b>3.1</b> Exploración de datos</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#que-interesa-conocer-de-los-datos"><i class="fa fa-check"></i><b>3.1.1</b> ¿Que interesa conocer de los datos?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#una-mirada-a-los-datos"><i class="fa fa-check"></i><b>3.2</b> Una mirada a los datos</a></li>
<li class="chapter" data-level="3.3" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#atipicidades"><i class="fa fa-check"></i><b>3.3</b> Atipicidades</a></li>
<li class="chapter" data-level="3.4" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#una-mirada-a-las-correlaciones"><i class="fa fa-check"></i><b>3.4</b> Una mirada a las correlaciones</a></li>
<li class="chapter" data-level="3.5" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#bases-para-la-regresion"><i class="fa fa-check"></i><b>3.5</b> Bases para la regresion</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"><span style="color:darkblue"> <strong>Modelación estadística en R para variables ambientales </strong></span></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="técnicas-para-corregir-la-heterocedasticidad-de-varianzas" class="section level1 hasAnchor" number="10">
<h1><span class="header-section-number">10</span> Técnicas para corregir la heterocedasticidad de varianzas<a href="técnicas-para-corregir-la-heterocedasticidad-de-varianzas.html#técnicas-para-corregir-la-heterocedasticidad-de-varianzas" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<ul>
<li><p><strong>Transformación de variables:</strong> la única que se recomienda logarítmica, pero las demás, no son buenas en la práctica por los problemas de interpretación que genera al modificar la variable. Los econometristas usan un modelos log - log aplicando log en ambos lados y se puede hacer una interpretación de tipo porcentual, cambio de porcentaje en el eje x, tiene un cambio en el porcentaje de y.</p></li>
<li><p><strong>Usar el paquete lmtest:</strong> los modelos siguientes corrigen la matriz de covarianzas, identificando el problema usando tecnicas complejas como lo es HC1, este método corrige y no se requiere verificación, a diferencia de los otros métodos de transformación de variables.</p></li>
<li><p><strong>Usar el paquete gls:</strong> generalized leat squares</p></li>
</ul>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="técnicas-para-corregir-la-heterocedasticidad-de-varianzas.html#cb153-1" tabindex="-1"></a><span class="co"># vcov matriz de covarianzas. Hay varias opciones HC1, HC2, etc. Esto es un métdo de sandwich con un estimador de White, más sencillo en bayesiana</span></span>
<span id="cb153-2"><a href="técnicas-para-corregir-la-heterocedasticidad-de-varianzas.html#cb153-2" tabindex="-1"></a></span>
<span id="cb153-3"><a href="técnicas-para-corregir-la-heterocedasticidad-de-varianzas.html#cb153-3" tabindex="-1"></a><span class="fu">coeftest</span>(regresion_simple, <span class="at">vcov =</span> <span class="fu">vcovHC</span>(regresion_simple, <span class="st">&quot;HC1&quot;</span>))</span></code></pre></div>
<pre><code>## 
## t test of coefficients:
## 
##              Estimate Std. Error t value  Pr(&gt;|t|)    
## (Intercept) -1.046112   0.111866 -9.3515 2.954e-10 ***
## dap          0.056475   0.003530 15.9988 6.296e-16 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1</code></pre>
<p>Se pueden conocer los intervalos de confianza:</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="técnicas-para-corregir-la-heterocedasticidad-de-varianzas.html#cb155-1" tabindex="-1"></a><span class="fu">coefci</span>(regresion_simple, <span class="at">vcov =</span> <span class="fu">vcovHC</span>(regresion_simple, <span class="st">&quot;HC1&quot;</span>))</span></code></pre></div>
<pre><code>##                   2.5 %     97.5 %
## (Intercept) -1.27490335 -0.8173214
## dap          0.04925587  0.0636951</code></pre>
<p>Acá se interpreta el tamño del efecto usando el IC: por cada 1 <span class="math inline">\(cm\)</span> que aumenta el <span class="math inline">\(dap\)</span>, el <span class="math inline">\(volumen\)</span> de los árboles aumentarán entre 0.04925587 y 0.0636951 <span class="math inline">\(m^{3}\)</span>.</p>
<p>Ahora podemos realizar un gráfico de nuestro modelo pero teniendo en consideración:</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="técnicas-para-corregir-la-heterocedasticidad-de-varianzas.html#cb157-1" tabindex="-1"></a><span class="fu">plot_model</span>(regresion_simple, <span class="at">type =</span> <span class="st">&quot;pred&quot;</span>, <span class="at">vcov.type =</span> <span class="st">&quot;HC1&quot;</span>)</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-109-1.png" width="672" /></p>
<p>Este es el gráfico del modelo con un intervalode confianza al 95%</p>
<p><strong>La intepretación del modelo sería la siguiente:</strong></p>
<p>La variable dap presentó una relación positiva con el volumen y se considera estadísticamente signigificativa (<span class="math inline">\(\alpha = 0.05\)</span>), por cada <span class="math inline">\(1 cm\)</span> en el incremento del <span class="math inline">\(dap\)</span>, el <span class="math inline">\(volumen\)</span> se incrementó <span class="math inline">\(0.06\)</span>, <span class="math inline">\(EE = 0.004\)</span>, <span class="math inline">\(95% IC [0.05, 0.06]\)</span>, <span class="math inline">\(p &lt; 0.001\)</span>. El modelo explicó una parte sustancial de la varianza (<span class="math inline">\(R^2 = 0.93\)</span>).</p>
</div>
</div>

            </section>

          </div>
        </div>
      </div>
<a href="supuesto-de-independencia.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
