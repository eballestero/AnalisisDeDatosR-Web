<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Gráficos de Barras | AnalisisdeDatos.knit</title>
  <meta name="description" content="" />
  <meta name="generator" content="bookdown 0.40 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Gráficos de Barras | AnalisisdeDatos.knit" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Gráficos de Barras | AnalisisdeDatos.knit" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="visualización-de-datos-con-ggplot2.html"/>
<link rel="next" href="diagramas-de-cajas-boxplots.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="index.html#section" id="toc-section"></a></li>
<li class="chapter" data-level="1" data-path="correlaciones-y-graficos-con-correlaciones.html"><a href="correlaciones-y-graficos-con-correlaciones.html"><i class="fa fa-check"></i><b>1</b> Correlaciones y graficos con correlaciones</a>
<ul>
<li class="chapter" data-level="1.1" data-path="correlaciones-y-graficos-con-correlaciones.html"><a href="correlaciones-y-graficos-con-correlaciones.html#qué-tipo-de-objeto-es-c"><i class="fa fa-check"></i><b>1.1</b> ¿Qué tipo de objeto es c?</a></li>
<li class="chapter" data-level="1.2" data-path="correlaciones-y-graficos-con-correlaciones.html"><a href="correlaciones-y-graficos-con-correlaciones.html#pasamos-a-la-sección-de-modelaje."><i class="fa fa-check"></i><b>1.2</b> Pasamos a la sección de modelaje.</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="practica-utilizando-astasa-anexos.html"><a href="practica-utilizando-astasa-anexos.html"><i class="fa fa-check"></i><b>2</b> Practica utilizando astasa (Anexos)</a></li>
<li class="chapter" data-level="3" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html"><i class="fa fa-check"></i><b>3</b> Exploracion y Visualización de Datos</a>
<ul>
<li class="chapter" data-level="3.1" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#exploración-de-datos"><i class="fa fa-check"></i><b>3.1</b> Exploración de datos</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#que-interesa-conocer-de-los-datos"><i class="fa fa-check"></i><b>3.1.1</b> ¿Que interesa conocer de los datos?</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#una-mirada-a-los-datos"><i class="fa fa-check"></i><b>3.2</b> Una mirada a los datos</a></li>
<li class="chapter" data-level="3.3" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#atipicidades"><i class="fa fa-check"></i><b>3.3</b> Atipicidades</a></li>
<li class="chapter" data-level="3.4" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#una-mirada-a-las-correlaciones"><i class="fa fa-check"></i><b>3.4</b> Una mirada a las correlaciones</a></li>
<li class="chapter" data-level="3.5" data-path="exploracion-y-visualización-de-datos.html"><a href="exploracion-y-visualización-de-datos.html#bases-para-la-regresion"><i class="fa fa-check"></i><b>3.5</b> Bases para la regresion</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="modelos-lineales.html"><a href="modelos-lineales.html"><i class="fa fa-check"></i><b>4</b> Modelos Lineales</a>
<ul>
<li class="chapter" data-level="4.1" data-path="modelos-lineales.html"><a href="modelos-lineales.html#modelo-lineal-general"><i class="fa fa-check"></i><b>4.1</b> Modelo lineal general</a></li>
<li class="chapter" data-level="4.2" data-path="modelos-lineales.html"><a href="modelos-lineales.html#qué-es-un-modelo"><i class="fa fa-check"></i><b>4.2</b> ¿Qué es un modelo?</a></li>
<li class="chapter" data-level="4.3" data-path="modelos-lineales.html"><a href="modelos-lineales.html#regresion-lineal-simple"><i class="fa fa-check"></i><b>4.3</b> Regresion lineal simple</a></li>
<li class="chapter" data-level="4.4" data-path="modelos-lineales.html"><a href="modelos-lineales.html#supuesto-de-normalidad"><i class="fa fa-check"></i><b>4.4</b> Supuesto de Normalidad</a></li>
<li class="chapter" data-level="4.5" data-path="modelos-lineales.html"><a href="modelos-lineales.html#supuesto-de-homocedasticidad-de-varianzas"><i class="fa fa-check"></i><b>4.5</b> Supuesto de Homocedasticidad de varianzas</a></li>
<li class="chapter" data-level="4.6" data-path="modelos-lineales.html"><a href="modelos-lineales.html#supuesto-de-independencia"><i class="fa fa-check"></i><b>4.6</b> Supuesto de Independencia</a></li>
<li class="chapter" data-level="4.7" data-path="modelos-lineales.html"><a href="modelos-lineales.html#tecnicas-para-corregir-la-heterocedasticidad-de-varianzas"><i class="fa fa-check"></i><b>4.7</b> Tecnicas para corregir la heterocedasticidad de varianzas</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="herramientas-para-visualizar-datos.html"><a href="herramientas-para-visualizar-datos.html"><i class="fa fa-check"></i><b>5</b> Herramientas para visualizar datos</a>
<ul>
<li class="chapter" data-level="5.1" data-path="herramientas-para-visualizar-datos.html"><a href="herramientas-para-visualizar-datos.html#chunk-de-librerías"><i class="fa fa-check"></i><b>5.1</b> Chunk de librerías</a></li>
<li class="chapter" data-level="5.2" data-path="herramientas-para-visualizar-datos.html"><a href="herramientas-para-visualizar-datos.html#carga-de-la-base-de-datos"><i class="fa fa-check"></i><b>5.2</b> Carga de la base de datos</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visualización-de-datos-con-ggplot2.html"><a href="visualización-de-datos-con-ggplot2.html"><i class="fa fa-check"></i><b>6</b> Visualización de Datos con ggplot2</a></li>
<li class="chapter" data-level="7" data-path="gráficos-de-barras.html"><a href="gráficos-de-barras.html"><i class="fa fa-check"></i><b>7</b> Gráficos de Barras</a>
<ul>
<li class="chapter" data-level="7.1" data-path="gráficos-de-barras.html"><a href="gráficos-de-barras.html#requerimientos"><i class="fa fa-check"></i><b>7.1</b> Requerimientos:</a></li>
<li class="chapter" data-level="7.2" data-path="gráficos-de-barras.html"><a href="gráficos-de-barras.html#legend-siempre-nos-pide-los-siguientes-argumentos."><i class="fa fa-check"></i><b>7.2</b> legend() siempre nos pide los siguientes argumentos.</a></li>
<li class="chapter" data-level="7.3" data-path="gráficos-de-barras.html"><a href="gráficos-de-barras.html#grafico-de-pastel"><i class="fa fa-check"></i><b>7.3</b> Grafico de pastel</a></li>
<li class="chapter" data-level="7.4" data-path="gráficos-de-barras.html"><a href="gráficos-de-barras.html#gráfico-de-dona"><i class="fa fa-check"></i><b>7.4</b> Gráfico de dona</a></li>
<li class="chapter" data-level="7.5" data-path="gráficos-de-barras.html"><a href="gráficos-de-barras.html#para-practicar"><i class="fa fa-check"></i><b>7.5</b> Para practicar</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="diagramas-de-cajas-boxplots.html"><a href="diagramas-de-cajas-boxplots.html"><i class="fa fa-check"></i><b>8</b> Diagramas de cajas (Boxplots)</a>
<ul>
<li class="chapter" data-level="8.1" data-path="diagramas-de-cajas-boxplots.html"><a href="diagramas-de-cajas-boxplots.html#chunk-para-librerías"><i class="fa fa-check"></i><b>8.1</b> Chunk para librerías</a></li>
<li class="chapter" data-level="8.2" data-path="diagramas-de-cajas-boxplots.html"><a href="diagramas-de-cajas-boxplots.html#pie-chart"><i class="fa fa-check"></i><b>8.2</b> Pie Chart</a></li>
<li class="chapter" data-level="8.3" data-path="diagramas-de-cajas-boxplots.html"><a href="diagramas-de-cajas-boxplots.html#paleta-de-colores"><i class="fa fa-check"></i><b>8.3</b> Paleta de colores</a></li>
<li class="chapter" data-level="8.4" data-path="diagramas-de-cajas-boxplots.html"><a href="diagramas-de-cajas-boxplots.html#diagrama-de-cajas"><i class="fa fa-check"></i><b>8.4</b> Diagrama de cajas</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./"></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="gráficos-de-barras" class="section level1 hasAnchor" number="7">
<h1><span class="header-section-number">7</span> Gráficos de Barras<a href="gráficos-de-barras.html#gráficos-de-barras" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<div id="requerimientos" class="section level2 hasAnchor" number="7.1">
<h2><span class="header-section-number">7.1</span> Requerimientos:<a href="gráficos-de-barras.html#requerimientos" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="gráficos-de-barras.html#cb173-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb173-2"><a href="gráficos-de-barras.html#cb173-2" tabindex="-1"></a><span class="fu">library</span>(ggalt) <span class="co"># para graficar los lollipop</span></span>
<span id="cb173-3"><a href="gráficos-de-barras.html#cb173-3" tabindex="-1"></a><span class="fu">library</span>(datos) <span class="co"># bases de datos para trabajar</span></span>
<span id="cb173-4"><a href="gráficos-de-barras.html#cb173-4" tabindex="-1"></a><span class="fu">library</span>(nycflights13)</span>
<span id="cb173-5"><a href="gráficos-de-barras.html#cb173-5" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code></pre></div>
<p>Comenzamos por cargar los datos desde el CSV, utilizando la función <code>read.csv</code>. Ahora generaremos gráficos de barras con los datos cargados utilizando la funcion de <code>barplot()</code>. Esta funcion crea gráficos de barras a partir de una matr4iz o conjunto de datos.</p>
<p>Para mejorar el gráfico se pueden añadir etiquetas y colores, por otro lado se forma cada grupo de datos con el fin de que haya un cojunto de barras individuales</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="gráficos-de-barras.html#cb174-1" tabindex="-1"></a>datP26 <span class="ot">&lt;-</span> <span class="fu">read.csv</span>(<span class="st">&quot;Data/NM_P26h.csv&quot;</span>, <span class="at">header=</span><span class="cn">TRUE</span>, <span class="at">sep=</span><span class="st">&#39;;&#39;</span>, <span class="at">dec=</span><span class="st">&#39;,&#39;</span>, <span class="at">row.names =</span> <span class="dv">1</span>)</span>
<span id="cb174-2"><a href="gráficos-de-barras.html#cb174-2" tabindex="-1"></a><span class="fu">print</span>(datP26)</span></code></pre></div>
<pre><code>##    Pretest Postest
## TD     420     457
## D      889     830
## N      793     804
## A      102     110
## TA      71      68
## NR      13       9</code></pre>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="gráficos-de-barras.html#cb176-1" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">as.matrix</span>(datP26))</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-122-1.png" width="672" /></p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="gráficos-de-barras.html#cb177-1" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">as.matrix</span>(datP26), <span class="at">xlab=</span><span class="st">&quot;Test aplicado&quot;</span>, <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;yellow&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;orange&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;gray&quot;</span>), <span class="at">beside =</span> T, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1030</span>), <span class="at">legend=</span><span class="fu">row.names</span>(datP26))</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-122-2.png" width="672" /></p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="gráficos-de-barras.html#cb178-1" tabindex="-1"></a><span class="co"># Cambien beside = F</span></span>
<span id="cb178-2"><a href="gráficos-de-barras.html#cb178-2" tabindex="-1"></a></span>
<span id="cb178-3"><a href="gráficos-de-barras.html#cb178-3" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">as.matrix</span>(datP26), <span class="at">xlab=</span><span class="st">&quot;Test aplicado&quot;</span>, <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;yellow&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;orange&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;gray&quot;</span>), <span class="at">beside =</span> T, <span class="at">xlim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1030</span>), <span class="at">legend=</span><span class="fu">row.names</span>(datP26), <span class="at">horiz =</span> T, <span class="at">width =</span> <span class="dv">3</span>)</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-122-3.png" width="672" /></p>
<ul>
<li><strong>xlab=“Test aplicado”:</strong> Añade una etiqueta al eje X, en este caso “Test aplicado”.</li>
<li><strong>col=c(“red”, “yellow”, …):</strong> Define los colores de las barras. Cada barra tendrá un color diferente, representado en el vector de colores.</li>
<li><strong>beside = T:</strong> Establece que las barras deben aparecer una al lado de la otra en lugar de estar apiladas.</li>
<li><strong>ylim=c(0, 1030):</strong> Define los límites del eje Y, permitiendo que los valores en el gráfico se extiendan de 0 a 1030.</li>
<li><strong>legend=row.names(datP26):</strong> Añade una leyenda al gráfico utilizando los nombres de las filas de los datos como etiquetas para cada conjunto de barras.</li>
<li><strong>horiz = T:</strong> Cambia la orientación del gráfico para que las barras se dispongan horizontalmente.</li>
<li><strong>width = 3:</strong> Ajusta el ancho de las barras.</li>
</ul>
<p>En este otro segmento transponemos la matriz de datos apra intercambiar las filas por columnas y volver a generar el gráfico.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="gráficos-de-barras.html#cb179-1" tabindex="-1"></a>datP26t <span class="ot">&lt;-</span><span class="fu">t</span>(datP26)</span>
<span id="cb179-2"><a href="gráficos-de-barras.html#cb179-2" tabindex="-1"></a><span class="fu">head</span>(datP26t)</span></code></pre></div>
<pre><code>##          TD   D   N   A TA NR
## Pretest 420 889 793 102 71 13
## Postest 457 830 804 110 68  9</code></pre>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="gráficos-de-barras.html#cb181-1" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">as.matrix</span>(datP26t), <span class="at">xlab=</span><span class="st">&quot;Test aplicado&quot;</span>, <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;green&quot;</span>), <span class="at">beside =</span> T, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">1030</span>), <span class="at">legend=</span><span class="fu">row.names</span>(datP26t))</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-123-1.png" width="672" /></p>
<p>Dónde:</p>
<ul>
<li><strong>t(datP26):</strong> La función t() transpone la matriz, es decir, intercambia las filas y las columnas.</li>
<li><strong>as.matrix(datP26t):</strong> Volvemos a convertir los datos transpuestos en una matriz para generar el gráfico.</li>
<li><strong>col=c(“blue”,“green”):</strong> En este caso, asignamos dos colores a las barras.</li>
</ul>
</div>
<div id="legend-siempre-nos-pide-los-siguientes-argumentos." class="section level2 hasAnchor" number="7.2">
<h2><span class="header-section-number">7.2</span> legend() siempre nos pide los siguientes argumentos.<a href="gráficos-de-barras.html#legend-siempre-nos-pide-los-siguientes-argumentos." class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><strong>legend:</strong> Las etiquetas de los datos que queremos describir con la leyenda. Por ejemplo, si tenemos cuatro categorías a describir, proporcionamos un vector de cuatro cadenas de texto.</p>
<p><strong>fill:</strong> Los colores que acompañan a las etiquetas definidas con legend. Estos colores tienen que coincidir con los que hemos usado en el gráfico.</p>
<p><strong>x y y:</strong> Las coordenadas en pixeles, en las que estará ubicada la leyenda.</p>
<p>Podemos dar como argumento a <em>x</em> alguno de los siguientes argumentos, para ubicar automáticamente la leyenda: <em>“bottomright”, “bottom”, “bottomleft”, “left”, “topleft”, “top”, “topright”, “right”, “center”</em>.</p>
<p><strong>title:</strong> Para poner título a la leyenda.</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="gráficos-de-barras.html#cb182-1" tabindex="-1"></a>millas_clase <span class="ot">&lt;-</span> millas<span class="sc">$</span>clase</span>
<span id="cb182-2"><a href="gráficos-de-barras.html#cb182-2" tabindex="-1"></a>millas_clase</span></code></pre></div>
<pre><code>##   [1] &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;   
##   [6] &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;   
##  [11] &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;   
##  [16] &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;suv&quot;         &quot;suv&quot;        
##  [21] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;2asientos&quot;   &quot;2asientos&quot;  
##  [26] &quot;2asientos&quot;   &quot;2asientos&quot;   &quot;2asientos&quot;   &quot;suv&quot;         &quot;suv&quot;        
##  [31] &quot;suv&quot;         &quot;suv&quot;         &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;    
##  [36] &quot;mediano&quot;     &quot;mediano&quot;     &quot;minivan&quot;     &quot;minivan&quot;     &quot;minivan&quot;    
##  [41] &quot;minivan&quot;     &quot;minivan&quot;     &quot;minivan&quot;     &quot;minivan&quot;     &quot;minivan&quot;    
##  [46] &quot;minivan&quot;     &quot;minivan&quot;     &quot;minivan&quot;     &quot;pickup&quot;      &quot;pickup&quot;     
##  [51] &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;     
##  [56] &quot;pickup&quot;      &quot;pickup&quot;      &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;        
##  [61] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;pickup&quot;     
##  [66] &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;     
##  [71] &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;suv&quot;        
##  [76] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;        
##  [81] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;pickup&quot;      &quot;pickup&quot;     
##  [86] &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;     
##  [91] &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot;
##  [96] &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot;
## [101] &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot;
## [106] &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;mediano&quot;     &quot;mediano&quot;    
## [111] &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;    
## [116] &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot;
## [121] &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;        
## [126] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;        
## [131] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;        
## [136] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;        
## [141] &quot;suv&quot;         &quot;compacto&quot;    &quot;compacto&quot;    &quot;mediano&quot;     &quot;mediano&quot;    
## [146] &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;    
## [151] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;mediano&quot;    
## [156] &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;suv&quot;        
## [161] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;        
## [166] &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;compacto&quot;   
## [171] &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;suv&quot;         &quot;suv&quot;        
## [176] &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;suv&quot;         &quot;mediano&quot;    
## [181] &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;    
## [186] &quot;mediano&quot;     &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;   
## [191] &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;   
## [196] &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;suv&quot;         &quot;suv&quot;        
## [201] &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;      &quot;pickup&quot;     
## [206] &quot;pickup&quot;      &quot;pickup&quot;      &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;   
## [211] &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;   
## [216] &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;    &quot;compacto&quot;   
## [221] &quot;compacto&quot;    &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;subcompacto&quot;
## [226] &quot;subcompacto&quot; &quot;subcompacto&quot; &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;    
## [231] &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;     &quot;mediano&quot;</code></pre>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="gráficos-de-barras.html#cb184-1" tabindex="-1"></a><span class="fu">table</span>(millas_clase)</span></code></pre></div>
<pre><code>## millas_clase
##   2asientos    compacto     mediano     minivan      pickup subcompacto 
##           5          47          41          11          33          35 
##         suv 
##          62</code></pre>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="gráficos-de-barras.html#cb186-1" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(millas_clase), <span class="at">xlab=</span><span class="st">&quot;Test aplicado&quot;</span>, <span class="at">col=</span><span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;yellow&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;orange&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;gray&quot;</span>), <span class="at">beside =</span> T, <span class="at">ylim=</span><span class="fu">c</span>(<span class="dv">0</span>, <span class="dv">100</span>))</span>
<span id="cb186-2"><a href="gráficos-de-barras.html#cb186-2" tabindex="-1"></a><span class="fu">legend</span>(<span class="at">x =</span> <span class="st">&quot;topright&quot;</span>, <span class="at">legend=</span><span class="fu">row.names</span>(<span class="fu">table</span>(millas_clase)), <span class="at">fill =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;yellow&quot;</span>,<span class="st">&quot;blue&quot;</span>,<span class="st">&quot;orange&quot;</span>,<span class="st">&quot;green&quot;</span>,<span class="st">&quot;gray&quot;</span>)) </span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-124-1.png" width="672" /></p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="gráficos-de-barras.html#cb187-1" tabindex="-1"></a><span class="fu">summary</span>(millas_clase)</span></code></pre></div>
<pre><code>##    Length     Class      Mode 
##       234 character character</code></pre>
<div class="sourceCode" id="cb189"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb189-1"><a href="gráficos-de-barras.html#cb189-1" tabindex="-1"></a><span class="fu">str</span>(millas)</span></code></pre></div>
<pre><code>## tibble [234 × 11] (S3: tbl_df/tbl/data.frame)
##  $ fabricante : chr [1:234] &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ...
##  $ modelo     : chr [1:234] &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; ...
##  $ cilindrada : num [1:234] 1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ...
##  $ anio       : int [1:234] 1999 1999 2008 2008 1999 1999 2008 1999 1999 2008 ...
##  $ cilindros  : int [1:234] 4 4 4 4 6 6 6 4 4 4 ...
##  $ transmision: chr [1:234] &quot;auto(l5)&quot; &quot;manual(m5)&quot; &quot;manual(m6)&quot; &quot;auto(av)&quot; ...
##  $ traccion   : chr [1:234] &quot;d&quot; &quot;d&quot; &quot;d&quot; &quot;d&quot; ...
##  $ ciudad     : int [1:234] 18 21 20 21 16 18 18 18 16 20 ...
##  $ autopista  : int [1:234] 29 29 31 30 26 26 27 26 25 28 ...
##  $ combustible: chr [1:234] &quot;p&quot; &quot;p&quot; &quot;p&quot; &quot;p&quot; ...
##  $ clase      : chr [1:234] &quot;compacto&quot; &quot;compacto&quot; &quot;compacto&quot; &quot;compacto&quot; ...</code></pre>
<p>Entre las variables de millas se encuentran:</p>
<p><strong>motor:</strong> tamaño del motor del automóvil, en litros.</p>
<p><strong>autopista:</strong> eficiencia del uso de combustible de un automóvil encarretera, en <em>millas por galón</em>. Al recorrer la misma distancia, un automóvil de baja eficiencia consume más combustible que un automóvil de alta eficiencia.</p>
<p><strong>Formato General:</strong></p>
<p><em>ggplot(data = <DATOS>) +</em>
<em><GEOM_FUNCIÓN>(mapping = aes(<MAPEOS>))</em></p>
<p>A continuación, echemos un vistazo a un gráfico de barras. Los gráficos de barras parecen simples, pero son interesantes porque revelan algo sutil sobre los gráficos. Considera un gráfico de barras básico, como uno realizado con geom_bar(). El siguiente gráfico muestra la cantidad total de diamantes en el conjunto de datos diamantes, agrupados por la variable corte. El conjunto de datos diamantes se encuentra en el paquete datos y contiene información sobre 54000 diamantes, incluido el precio, el quilate, el color, la claridad y el corte de cada uno. El gráfico muestra que hay más diamantes disponibles con cortes de alta calidad que con cortes de baja calidad.</p>
<div class="sourceCode" id="cb191"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb191-1"><a href="gráficos-de-barras.html#cb191-1" tabindex="-1"></a><span class="fu">str</span>(diamantes)</span></code></pre></div>
<pre><code>## tibble [53,940 × 10] (S3: tbl_df/tbl/data.frame)
##  $ precio     : int [1:53940] 326 326 327 334 335 336 336 337 337 338 ...
##  $ quilate    : num [1:53940] 0.23 0.21 0.23 0.29 0.31 0.24 0.24 0.26 0.22 0.23 ...
##  $ corte      : Ord.factor w/ 5 levels &quot;Regular&quot;&lt;&quot;Bueno&quot;&lt;..: 5 4 2 4 2 3 3 3 1 3 ...
##  $ color      : Ord.factor w/ 7 levels &quot;D&quot;&lt;&quot;E&quot;&lt;&quot;F&quot;&lt;&quot;G&quot;&lt;..: 2 2 2 6 7 7 6 5 2 5 ...
##  $ claridad   : Ord.factor w/ 8 levels &quot;I1&quot;&lt;&quot;SI2&quot;&lt;&quot;SI1&quot;&lt;..: 2 3 5 4 2 6 7 3 4 5 ...
##  $ profundidad: num [1:53940] 61.5 59.8 56.9 62.4 63.3 62.8 62.3 61.9 65.1 59.4 ...
##  $ tabla      : num [1:53940] 55 61 65 58 58 57 57 55 61 61 ...
##  $ x          : num [1:53940] 3.95 3.89 4.05 4.2 4.34 3.94 3.95 4.07 3.87 4 ...
##  $ y          : num [1:53940] 3.98 3.84 4.07 4.23 4.35 3.96 3.98 4.11 3.78 4.05 ...
##  $ z          : num [1:53940] 2.43 2.31 2.31 2.63 2.75 2.48 2.47 2.53 2.49 2.39 ...</code></pre>
<div class="sourceCode" id="cb193"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb193-1"><a href="gráficos-de-barras.html#cb193-1" tabindex="-1"></a>diamante <span class="ot">&lt;-</span> diamantes</span>
<span id="cb193-2"><a href="gráficos-de-barras.html#cb193-2" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb193-3"><a href="gráficos-de-barras.html#cb193-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte))</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-125-1.png" width="672" /></p>
<div class="sourceCode" id="cb194"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb194-1"><a href="gráficos-de-barras.html#cb194-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb194-2"><a href="gráficos-de-barras.html#cb194-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> claridad)) <span class="co"># aes: define una variable para la estética</span></span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-125-2.png" width="672" /></p>
<div class="sourceCode" id="cb195"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb195-1"><a href="gráficos-de-barras.html#cb195-1" tabindex="-1"></a>  <span class="co"># + coord_flip()</span></span></code></pre></div>
<p>Si se desea ver solo las proporciones, en lugar de los valores netos:</p>
<div class="sourceCode" id="cb196"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb196-1"><a href="gráficos-de-barras.html#cb196-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb196-2"><a href="gráficos-de-barras.html#cb196-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> ..prop.., <span class="at">group =</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>## Warning: The dot-dot notation (`..prop..`) was deprecated in ggplot2 3.4.0.
## ℹ Please use `after_stat(prop)` instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-126-1.png" width="672" />
El siguiente gráfico muestras estadísticas resumen como máximo (max), mínimo (min) y la mediana de los datos <em>profundidad</em>, según clasificación por corte</p>
<div class="sourceCode" id="cb198"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb198-1"><a href="gráficos-de-barras.html#cb198-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb198-2"><a href="gráficos-de-barras.html#cb198-2" tabindex="-1"></a>  <span class="fu">stat_summary</span>(</span>
<span id="cb198-3"><a href="gráficos-de-barras.html#cb198-3" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">y =</span> profundidad),</span>
<span id="cb198-4"><a href="gráficos-de-barras.html#cb198-4" tabindex="-1"></a>    <span class="at">fun.ymin =</span> min,</span>
<span id="cb198-5"><a href="gráficos-de-barras.html#cb198-5" tabindex="-1"></a>    <span class="at">fun.ymax =</span> max,</span>
<span id="cb198-6"><a href="gráficos-de-barras.html#cb198-6" tabindex="-1"></a>    <span class="at">fun.y =</span> median</span>
<span id="cb198-7"><a href="gráficos-de-barras.html#cb198-7" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## Warning: The `fun.y` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.
## ℹ Please use the `fun` argument instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## Warning: The `fun.ymin` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.
## ℹ Please use the `fun.min` argument instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<pre><code>## Warning: The `fun.ymax` argument of `stat_summary()` is deprecated as of ggplot2 3.3.0.
## ℹ Please use the `fun.max` argument instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-127-1.png" width="672" /></p>
<p>Para colorear los gráficos, se puede usar como referencia un vector, que podría ser alguna de las variables de la base de datos.</p>
<p>Tome en cuenta que el parámetro <em>colour</em> se refiere al borde, pero si lo que desea es colorear la barra, debe usar <em>fill</em></p>
<div class="sourceCode" id="cb202"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb202-1"><a href="gráficos-de-barras.html#cb202-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb202-2"><a href="gráficos-de-barras.html#cb202-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">colour =</span> corte))</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-128-1.png" width="672" /></p>
<div class="sourceCode" id="cb203"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb203-1"><a href="gráficos-de-barras.html#cb203-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb203-2"><a href="gráficos-de-barras.html#cb203-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> corte))</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-128-2.png" width="672" /></p>
<p>Asignemos otra variable para <em>fill</em>. Las barras están apiladas:</p>
<div class="sourceCode" id="cb204"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb204-1"><a href="gráficos-de-barras.html#cb204-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb204-2"><a href="gráficos-de-barras.html#cb204-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> claridad))</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-129-1.png" width="672" /></p>
<p>El apilamiento se realiza automáticamente mediante el ajuste de posición especificado por el argumento <em>position</em>. Explore otras opciones para <em>position: “identity”, “dodge”, “fill”</em></p>
<div class="sourceCode" id="cb205"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb205-1"><a href="gráficos-de-barras.html#cb205-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes)  <span class="sc">+</span></span>
<span id="cb205-2"><a href="gráficos-de-barras.html#cb205-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> claridad), <span class="at">position =</span> <span class="st">&quot;jitter&quot;</span>)</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-130-1.png" width="672" /></p>
<div class="sourceCode" id="cb206"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb206-1"><a href="gráficos-de-barras.html#cb206-1" tabindex="-1"></a><span class="co"># barras quedan superpuestas, una detrás de la otra. El alpha es para darle transparencia para que se vean las barras que están detrás.</span></span>
<span id="cb206-2"><a href="gráficos-de-barras.html#cb206-2" tabindex="-1"></a></span>
<span id="cb206-3"><a href="gráficos-de-barras.html#cb206-3" tabindex="-1"></a><span class="co">#ggplot(data = diamantes) +</span></span>
<span id="cb206-4"><a href="gráficos-de-barras.html#cb206-4" tabindex="-1"></a><span class="co">#  geom_bar(mapping = aes(x = corte, colour = claridad, fill = claridad), position = &quot;jitter&quot;)</span></span></code></pre></div>
<div class="sourceCode" id="cb207"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb207-1"><a href="gráficos-de-barras.html#cb207-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb207-2"><a href="gráficos-de-barras.html#cb207-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> claridad), <span class="at">position =</span> <span class="st">&quot;fill&quot;</span>)</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-131-1.png" width="672" /></p>
<div class="sourceCode" id="cb208"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb208-1"><a href="gráficos-de-barras.html#cb208-1" tabindex="-1"></a><span class="co">#explore con position = &quot;stack&quot;</span></span></code></pre></div>
<div class="sourceCode" id="cb209"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb209-1"><a href="gráficos-de-barras.html#cb209-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb209-2"><a href="gráficos-de-barras.html#cb209-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> corte), <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>)</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-132-1.png" width="672" /></p>
<div class="sourceCode" id="cb210"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb210-1"><a href="gráficos-de-barras.html#cb210-1" tabindex="-1"></a><span class="co"># Puede cambiar la variables fill = corte por otra, por ejemplo, claridad</span></span></code></pre></div>
<p>Si se desean las barras horrizontales, se agrega la instrucción coord_flip() y automáticamente ordena las barras de mayor a menor</p>
<div class="sourceCode" id="cb211"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb211-1"><a href="gráficos-de-barras.html#cb211-1" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb211-2"><a href="gráficos-de-barras.html#cb211-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> corte), <span class="at">position =</span> <span class="st">&quot;dodge&quot;</span>) <span class="sc">+</span></span>
<span id="cb211-3"><a href="gráficos-de-barras.html#cb211-3" tabindex="-1"></a>  <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-133-1.png" width="672" /></p>
<div class="sourceCode" id="cb212"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb212-1"><a href="gráficos-de-barras.html#cb212-1" tabindex="-1"></a>bar <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb212-2"><a href="gráficos-de-barras.html#cb212-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(</span>
<span id="cb212-3"><a href="gráficos-de-barras.html#cb212-3" tabindex="-1"></a>    <span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> corte),</span>
<span id="cb212-4"><a href="gráficos-de-barras.html#cb212-4" tabindex="-1"></a>    <span class="at">show.legend =</span> <span class="cn">FALSE</span>,</span>
<span id="cb212-5"><a href="gráficos-de-barras.html#cb212-5" tabindex="-1"></a>    <span class="at">width =</span> <span class="dv">1</span></span>
<span id="cb212-6"><a href="gráficos-de-barras.html#cb212-6" tabindex="-1"></a>  ) <span class="sc">+</span></span>
<span id="cb212-7"><a href="gráficos-de-barras.html#cb212-7" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb212-8"><a href="gráficos-de-barras.html#cb212-8" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>)</span>
<span id="cb212-9"><a href="gráficos-de-barras.html#cb212-9" tabindex="-1"></a></span>
<span id="cb212-10"><a href="gráficos-de-barras.html#cb212-10" tabindex="-1"></a>bar <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-134-1.png" width="672" /></p>
<div class="sourceCode" id="cb213"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb213-1"><a href="gráficos-de-barras.html#cb213-1" tabindex="-1"></a>bar <span class="sc">+</span> <span class="fu">coord_polar</span>()</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-134-2.png" width="672" /></p>
<div class="sourceCode" id="cb214"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb214-1"><a href="gráficos-de-barras.html#cb214-1" tabindex="-1"></a>bar <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(<span class="at">data =</span> diamantes) <span class="sc">+</span></span>
<span id="cb214-2"><a href="gráficos-de-barras.html#cb214-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">mapping =</span> <span class="fu">aes</span>(<span class="at">x =</span> corte, <span class="at">fill =</span> claridad),</span>
<span id="cb214-3"><a href="gráficos-de-barras.html#cb214-3" tabindex="-1"></a>    <span class="at">show.legend =</span> F,</span>
<span id="cb214-4"><a href="gráficos-de-barras.html#cb214-4" tabindex="-1"></a>    <span class="at">width =</span> <span class="fl">0.75</span>) <span class="sc">+</span></span>
<span id="cb214-5"><a href="gráficos-de-barras.html#cb214-5" tabindex="-1"></a>  <span class="fu">theme</span>(<span class="at">aspect.ratio =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb214-6"><a href="gráficos-de-barras.html#cb214-6" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="cn">NULL</span>, <span class="at">y =</span> <span class="cn">NULL</span>)</span>
<span id="cb214-7"><a href="gráficos-de-barras.html#cb214-7" tabindex="-1"></a></span>
<span id="cb214-8"><a href="gráficos-de-barras.html#cb214-8" tabindex="-1"></a>bar <span class="sc">+</span> <span class="fu">coord_flip</span>()</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-135-1.png" width="672" /></p>
<div class="sourceCode" id="cb215"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb215-1"><a href="gráficos-de-barras.html#cb215-1" tabindex="-1"></a>bar <span class="sc">+</span> <span class="fu">coord_polar</span>()</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-135-2.png" width="672" /></p>
<div class="sourceCode" id="cb216"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb216-1"><a href="gráficos-de-barras.html#cb216-1" tabindex="-1"></a>diaman_dat <span class="ot">&lt;-</span> diamantes <span class="sc">%&gt;%</span></span>
<span id="cb216-2"><a href="gráficos-de-barras.html#cb216-2" tabindex="-1"></a>  <span class="fu">group_by</span>(corte) <span class="sc">%&gt;%</span> <span class="co"># agrupar todo por clase</span></span>
<span id="cb216-3"><a href="gráficos-de-barras.html#cb216-3" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">conteo =</span> <span class="fu">n</span>())</span>
<span id="cb216-4"><a href="gráficos-de-barras.html#cb216-4" tabindex="-1"></a>diaman_dat</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   corte     conteo
##   &lt;ord&gt;      &lt;int&gt;
## 1 Regular     1610
## 2 Bueno       4906
## 3 Muy bueno  12082
## 4 Premium    13791
## 5 Ideal      21551</code></pre>
<div class="sourceCode" id="cb218"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb218-1"><a href="gráficos-de-barras.html#cb218-1" tabindex="-1"></a>g6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(diaman_dat, <span class="fu">aes</span>(<span class="at">y =</span> <span class="fu">reorder</span>(corte, conteo), <span class="at">x =</span> conteo))</span>
<span id="cb218-2"><a href="gráficos-de-barras.html#cb218-2" tabindex="-1"></a></span>
<span id="cb218-3"><a href="gráficos-de-barras.html#cb218-3" tabindex="-1"></a>g6 <span class="sc">+</span></span>
<span id="cb218-4"><a href="gráficos-de-barras.html#cb218-4" tabindex="-1"></a>  <span class="fu">geom_lollipop</span>(<span class="at">point.colour =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">point.size =</span> <span class="dv">2</span>, <span class="at">horizontal =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## Warning: Using the `size` aesthetic with geom_segment was deprecated in ggplot2 3.4.0.
## ℹ Please use the `linewidth` aesthetic instead.
## This warning is displayed once every 8 hours.
## Call `lifecycle::last_lifecycle_warnings()` to see where this warning was
## generated.</code></pre>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-136-1.png" width="672" /></p>
<p>Verticalmente:</p>
<div class="sourceCode" id="cb220"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb220-1"><a href="gráficos-de-barras.html#cb220-1" tabindex="-1"></a>g6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(diaman_dat, <span class="fu">aes</span>(<span class="at">y =</span> conteo , <span class="at">x =</span> <span class="fu">reorder</span>(corte, conteo)))</span>
<span id="cb220-2"><a href="gráficos-de-barras.html#cb220-2" tabindex="-1"></a></span>
<span id="cb220-3"><a href="gráficos-de-barras.html#cb220-3" tabindex="-1"></a>g6 <span class="sc">+</span></span>
<span id="cb220-4"><a href="gráficos-de-barras.html#cb220-4" tabindex="-1"></a>  <span class="fu">geom_lollipop</span>(<span class="at">point.colour =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">point.size =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-137-1.png" width="672" /></p>
<div class="sourceCode" id="cb221"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb221-1"><a href="gráficos-de-barras.html#cb221-1" tabindex="-1"></a>g6 <span class="ot">&lt;-</span> <span class="fu">ggplot</span>(diaman_dat, <span class="fu">aes</span>(<span class="at">y =</span> conteo , <span class="at">x =</span> <span class="fu">reorder</span>(corte, conteo)))</span>
<span id="cb221-2"><a href="gráficos-de-barras.html#cb221-2" tabindex="-1"></a>             </span>
<span id="cb221-3"><a href="gráficos-de-barras.html#cb221-3" tabindex="-1"></a>g6 <span class="sc">+</span></span>
<span id="cb221-4"><a href="gráficos-de-barras.html#cb221-4" tabindex="-1"></a>  <span class="fu">geom_lollipop</span>(<span class="at">point.colour =</span> <span class="st">&quot;steelblue&quot;</span>, <span class="at">point.size =</span> <span class="dv">13</span>, <span class="at">size =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb221-5"><a href="gráficos-de-barras.html#cb221-5" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">label =</span> conteo), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb221-6"><a href="gráficos-de-barras.html#cb221-6" tabindex="-1"></a>  <span class="fu">theme_minimal</span>() <span class="sc">+</span></span>
<span id="cb221-7"><a href="gráficos-de-barras.html#cb221-7" tabindex="-1"></a>  <span class="fu">xlab</span>(<span class="st">&quot;Clase&quot;</span>) <span class="sc">+</span></span>
<span id="cb221-8"><a href="gráficos-de-barras.html#cb221-8" tabindex="-1"></a>  <span class="fu">ylab</span>(<span class="st">&quot;conteo&quot;</span>)</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-138-1.png" width="672" /></p>
</div>
<div id="grafico-de-pastel" class="section level2 hasAnchor" number="7.3">
<h2><span class="header-section-number">7.3</span> Grafico de pastel<a href="gráficos-de-barras.html#grafico-de-pastel" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Primero, agrupamos los datos por la variable color utilizando group_by() y calculamos el conteo para cada categoría con <code>summarise()</code>.</p>
<ul>
<li><strong>group_by(color):</strong> Agrupa los datos del conjunto diamantes según la variable color. Cada grupo corresponderá a una categoría distinta de colores de diamantes.</li>
<li><strong>summarise(conteo = n()):</strong> Resume los datos calculando el número de observaciones (n()) en cada grupo, es decir, el conteo de diamantes de cada color.</li>
</ul>
<div class="sourceCode" id="cb222"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb222-1"><a href="gráficos-de-barras.html#cb222-1" tabindex="-1"></a>diaman_dat1 <span class="ot">&lt;-</span>diamantes <span class="sc">%&gt;%</span></span>
<span id="cb222-2"><a href="gráficos-de-barras.html#cb222-2" tabindex="-1"></a>  <span class="fu">group_by</span>(color) <span class="sc">%&gt;%</span> <span class="co"># agrupar todo por clase</span></span>
<span id="cb222-3"><a href="gráficos-de-barras.html#cb222-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">conteo =</span> <span class="fu">n</span>())</span></code></pre></div>
<p>El código en R agrupa los datos de diamantes por la variable de corte, calcula el número de diamantes en cada categoría, y luego calcula el porcentaje que representa cada categoría. Además, organiza estos porcentajes y define la posición para las etiquetas dentro de un gráfico de pastel, lo que facilita la visualización de la proporción de cada categoría en el total de diamantes.</p>
<div class="sourceCode" id="cb223"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb223-1"><a href="gráficos-de-barras.html#cb223-1" tabindex="-1"></a>diaman_dat <span class="ot">&lt;-</span>diamantes <span class="sc">%&gt;%</span></span>
<span id="cb223-2"><a href="gráficos-de-barras.html#cb223-2" tabindex="-1"></a>  <span class="fu">group_by</span>(corte) <span class="sc">%&gt;%</span> <span class="co"># agrupar todo por clase de var corte</span></span>
<span id="cb223-3"><a href="gráficos-de-barras.html#cb223-3" tabindex="-1"></a><span class="fu">summarise</span>(<span class="at">conteo =</span> <span class="fu">n</span>()) <span class="co"># hace un resumen de conteo de cada categ.</span></span>
<span id="cb223-4"><a href="gráficos-de-barras.html#cb223-4" tabindex="-1"></a>diaman_dat</span></code></pre></div>
<pre><code>## # A tibble: 5 × 2
##   corte     conteo
##   &lt;ord&gt;      &lt;int&gt;
## 1 Regular     1610
## 2 Bueno       4906
## 3 Muy bueno  12082
## 4 Premium    13791
## 5 Ideal      21551</code></pre>
<div class="sourceCode" id="cb225"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb225-1"><a href="gráficos-de-barras.html#cb225-1" tabindex="-1"></a>count.data <span class="ot">&lt;-</span> diaman_dat <span class="sc">%&gt;%</span></span>
<span id="cb225-2"><a href="gráficos-de-barras.html#cb225-2" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(conteo)) <span class="sc">%&gt;%</span></span>
<span id="cb225-3"><a href="gráficos-de-barras.html#cb225-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">porcent =</span> <span class="fu">round</span>(conteo<span class="sc">/</span><span class="fu">sum</span>(conteo)<span class="sc">*</span><span class="dv">100</span>,<span class="dv">1</span>))</span>
<span id="cb225-4"><a href="gráficos-de-barras.html#cb225-4" tabindex="-1"></a>count.data</span></code></pre></div>
<pre><code>## # A tibble: 5 × 3
##   corte     conteo porcent
##   &lt;ord&gt;      &lt;int&gt;   &lt;dbl&gt;
## 1 Ideal      21551    40  
## 2 Premium    13791    25.6
## 3 Muy bueno  12082    22.4
## 4 Bueno       4906     9.1
## 5 Regular     1610     3</code></pre>
<div class="sourceCode" id="cb227"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb227-1"><a href="gráficos-de-barras.html#cb227-1" tabindex="-1"></a><span class="co"># Agregar posición de la etiqueta de porcentaje </span></span>
<span id="cb227-2"><a href="gráficos-de-barras.html#cb227-2" tabindex="-1"></a></span>
<span id="cb227-3"><a href="gráficos-de-barras.html#cb227-3" tabindex="-1"></a>count.data <span class="ot">&lt;-</span> count.data <span class="sc">%&gt;%</span></span>
<span id="cb227-4"><a href="gráficos-de-barras.html#cb227-4" tabindex="-1"></a>  <span class="fu">arrange</span>(<span class="fu">desc</span>(corte)) <span class="sc">%&gt;%</span></span>
<span id="cb227-5"><a href="gráficos-de-barras.html#cb227-5" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">lab.ypos =</span> <span class="fu">cumsum</span>(porcent) <span class="sc">-</span> <span class="fl">0.5</span><span class="sc">*</span>porcent)</span>
<span id="cb227-6"><a href="gráficos-de-barras.html#cb227-6" tabindex="-1"></a>count.data</span></code></pre></div>
<pre><code>## # A tibble: 5 × 4
##   corte     conteo porcent lab.ypos
##   &lt;ord&gt;      &lt;int&gt;   &lt;dbl&gt;    &lt;dbl&gt;
## 1 Ideal      21551    40       20  
## 2 Premium    13791    25.6     52.8
## 3 Muy bueno  12082    22.4     76.8
## 4 Bueno       4906     9.1     92.6
## 5 Regular     1610     3       98.6</code></pre>
<p>Crearemos un grafico de pastel (pie) usando verbos de ggplot2 . A diferencia de los gráficos de barras, se podría pensar que existe una versión geom_ ´para los gráficos de pastel, pero en realidad un gráfico de pastel es una variación de una gráfico de barras en coordenadas polares.</p>
<p>Key function: geom_bar() + coord_polar().
Agregar texto a las etiquetas: geom_text()
Cambio del relleno del color de forma manual: scale_color_manual()
Apply theme_void() para eliminar los ejes, el background, etc</p>
<div class="sourceCode" id="cb229"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb229-1"><a href="gráficos-de-barras.html#cb229-1" tabindex="-1"></a>mycols <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;#0073C2FF&quot;</span>, <span class="st">&quot;#EFC000FF&quot;</span>, <span class="st">&quot;#868686FF&quot;</span>, <span class="st">&quot;#CD534CFF&quot;</span>, <span class="st">&quot;#00FF00&quot;</span>)</span>
<span id="cb229-2"><a href="gráficos-de-barras.html#cb229-2" tabindex="-1"></a></span>
<span id="cb229-3"><a href="gráficos-de-barras.html#cb229-3" tabindex="-1"></a><span class="fu">ggplot</span>(count.data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="st">&quot;&quot;</span>, <span class="at">y =</span> porcent, <span class="at">fill =</span> corte)) <span class="sc">+</span></span>
<span id="cb229-4"><a href="gráficos-de-barras.html#cb229-4" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">width =</span> <span class="dv">1</span>, <span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">color =</span> <span class="st">&quot;transparent&quot;</span>) <span class="sc">+</span></span>
<span id="cb229-5"><a href="gráficos-de-barras.html#cb229-5" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="at">start =</span> <span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb229-6"><a href="gráficos-de-barras.html#cb229-6" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> lab.ypos, <span class="at">label =</span> porcent), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb229-7"><a href="gráficos-de-barras.html#cb229-7" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> mycols) <span class="sc">+</span></span>
<span id="cb229-8"><a href="gráficos-de-barras.html#cb229-8" tabindex="-1"></a>  <span class="fu">theme_void</span>()</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-141-1.png" width="672" /></p>
</div>
<div id="gráfico-de-dona" class="section level2 hasAnchor" number="7.4">
<h2><span class="header-section-number">7.4</span> Gráfico de dona<a href="gráficos-de-barras.html#gráfico-de-dona" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Cambios a considerar:
1. x = 2
2. Eliminar width en geom_bar()
3. agregar xlim(0.5,2.5)</p>
<p>El hoyo se crea con 1 y 3</p>
<div class="sourceCode" id="cb230"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb230-1"><a href="gráficos-de-barras.html#cb230-1" tabindex="-1"></a><span class="fu">ggplot</span>(count.data, <span class="fu">aes</span>(<span class="at">x =</span> <span class="dv">2</span>, <span class="at">y =</span> porcent, <span class="at">fill =</span> corte)) <span class="sc">+</span></span>
<span id="cb230-2"><a href="gráficos-de-barras.html#cb230-2" tabindex="-1"></a>  <span class="fu">geom_bar</span>(<span class="at">stat =</span> <span class="st">&quot;identity&quot;</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb230-3"><a href="gráficos-de-barras.html#cb230-3" tabindex="-1"></a>  <span class="fu">coord_polar</span>(<span class="st">&quot;y&quot;</span>, <span class="at">start =</span> <span class="dv">0</span>)<span class="sc">+</span></span>
<span id="cb230-4"><a href="gráficos-de-barras.html#cb230-4" tabindex="-1"></a>  <span class="fu">geom_text</span>(<span class="fu">aes</span>(<span class="at">y =</span> lab.ypos, <span class="at">label =</span> porcent), <span class="at">color =</span> <span class="st">&quot;white&quot;</span>)<span class="sc">+</span></span>
<span id="cb230-5"><a href="gráficos-de-barras.html#cb230-5" tabindex="-1"></a>  <span class="fu">scale_fill_manual</span>(<span class="at">values =</span> mycols) <span class="sc">+</span></span>
<span id="cb230-6"><a href="gráficos-de-barras.html#cb230-6" tabindex="-1"></a>  <span class="fu">theme_void</span>()<span class="sc">+</span></span>
<span id="cb230-7"><a href="gráficos-de-barras.html#cb230-7" tabindex="-1"></a>  <span class="fu">xlim</span> (<span class="fl">0.5</span>,<span class="fl">2.5</span>)</span></code></pre></div>
<p><img src="AnalisisdeDatos_files/figure-html/unnamed-chunk-142-1.png" width="672" /></p>
<div class="sourceCode" id="cb231"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb231-1"><a href="gráficos-de-barras.html#cb231-1" tabindex="-1"></a>dat <span class="ot">&lt;-</span> datos <span class="sc">::</span> vuelos</span>
<span id="cb231-2"><a href="gráficos-de-barras.html#cb231-2" tabindex="-1"></a><span class="fu">str</span>(dat)</span></code></pre></div>
<pre><code>## tibble [336,776 × 19] (S3: tbl_df/tbl/data.frame)
##  $ anio              : int [1:336776] 2013 2013 2013 2013 2013 2013 2013 2013 2013 2013 ...
##  $ mes               : int [1:336776] 1 1 1 1 1 1 1 1 1 1 ...
##  $ dia               : int [1:336776] 1 1 1 1 1 1 1 1 1 1 ...
##  $ horario_salida    : int [1:336776] 517 533 542 544 554 554 555 557 557 558 ...
##  $ salida_programada : int [1:336776] 515 529 540 545 600 558 600 600 600 600 ...
##  $ atraso_salida     : num [1:336776] 2 4 2 -1 -6 -4 -5 -3 -3 -2 ...
##  $ horario_llegada   : int [1:336776] 830 850 923 1004 812 740 913 709 838 753 ...
##  $ llegada_programada: int [1:336776] 819 830 850 1022 837 728 854 723 846 745 ...
##  $ atraso_llegada    : num [1:336776] 11 20 33 -18 -25 12 19 -14 -8 8 ...
##  $ aerolinea         : chr [1:336776] &quot;UA&quot; &quot;UA&quot; &quot;AA&quot; &quot;B6&quot; ...
##  $ vuelo             : int [1:336776] 1545 1714 1141 725 461 1696 507 5708 79 301 ...
##  $ codigo_cola       : chr [1:336776] &quot;N14228&quot; &quot;N24211&quot; &quot;N619AA&quot; &quot;N804JB&quot; ...
##  $ origen            : chr [1:336776] &quot;EWR&quot; &quot;LGA&quot; &quot;JFK&quot; &quot;JFK&quot; ...
##  $ destino           : chr [1:336776] &quot;IAH&quot; &quot;IAH&quot; &quot;MIA&quot; &quot;BQN&quot; ...
##  $ tiempo_vuelo      : num [1:336776] 227 227 160 183 116 150 158 53 140 138 ...
##  $ distancia         : num [1:336776] 1400 1416 1089 1576 762 ...
##  $ hora              : num [1:336776] 5 5 5 5 6 5 6 6 6 6 ...
##  $ minuto            : num [1:336776] 15 29 40 45 0 58 0 0 0 0 ...
##  $ fecha_hora        : POSIXct[1:336776], format: &quot;2013-01-01 05:00:00&quot; &quot;2013-01-01 05:00:00&quot; ...</code></pre>
<div class="sourceCode" id="cb233"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb233-1"><a href="gráficos-de-barras.html#cb233-1" tabindex="-1"></a><span class="fu">table</span>(dat<span class="sc">$</span>hora)</span></code></pre></div>
<pre><code>## 
##     1     5     6     7     8     9    10    11    12    13    14    15    16 
##     1  1953 25951 22821 27242 20312 16708 16033 18181 19956 21706 23888 23002 
##    17    18    19    20    21    22    23 
## 24426 21783 21441 16739 10933  2639  1061</code></pre>
</div>
<div id="para-practicar" class="section level2 hasAnchor" number="7.5">
<h2><span class="header-section-number">7.5</span> Para practicar<a href="gráficos-de-barras.html#para-practicar" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<ol style="list-style-type: decimal">
<li>Cargue el paquete datos en R el cual contiene varias bases de datos que pueden ser utilizadas para el trabajo con los temas del curso. Trabaje con los datos de vuelos y realice lo siguiente:</li>
<li>Brevemente explique de qué tratan los datos</li>
<li>Realice un gráfico de barras verticales con alguna de las variables presentes en el dataset vuelos. Esta variable debe cumplir los requerimientos explicados en clase
4.Realice un gráfico de barras horizontal con alguna de las variables. Al igual que el caso anterior, debe elegir una variable que se ajuste a los requerimientos discutidos en clase para este tipo de gráficos.
5.Elija una de las variables y construya un gráfico de pastel. La variable debe tener las condiciones apropiadas.</li>
<li>Tome en cuenta que para cada gráfico debe considerar las recomendaciones estudiadas en clases, las cuáles las pueden encontrar en la presentación. Para cada uno de los gráficos, haga una breve interpretación de lo observado.</li>
</ol>
<p><em>Nota: es posible que tengan un problema para cargar la base de datos vuelos, debido a que se requiere del paquete nycflights13. </em></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="visualización-de-datos-con-ggplot2.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="diagramas-de-cajas-boxplots.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
